# storage
* NAS vs SAN
    - 둘다 네트워크 기반 스토리지
    - NAS 
        - 표준 이더넷 연결(LAN 방식/TCPIP 기반)
        - 네트워크를 통한 파일 공유
        - 비디오 의료 이미지등 비졍형 데이터에 주로사용
        - 파일 시스템 공유로 높은수준의 보안 힘듬
    - SAN 
        - 파이버 채널 연결(고속네트워크 사용)
        - 로컬연결장치로 서버운영체제 표시됨
        - 확장성,유연성,가용성이 우수
        - 데이터 베이스

                 
* 고급기능
    - 씬 프로비저닝
        - 실제 물리 스토리지 용량보다 많은 논리 볼륨을 할당할 수 있게 해주는 기능
        - 사전에 디스크 공간으 확보하지 않고, 필요에 따라 디스크 공간을 확보하면서 사용하는 방식
        - 사용자가 원하는 논리적 크기의 볼륨을 지정하고 실제로 기록되는 데이터에 필요한 물리적 용량만 차지
        - 반대 개념이 thick provisioning 사전에 설정된 디스크 공간을 미리모두 확보한다.
        - 장점 공간 활용도
        - 단점 ssd 사용안할시 실제 데이터가 저장 될 때 빈공간ㅇ르 찾아야하고, 찾은 이후에 폐기된 데이터를 청소하고 저장하는 방식이으로 속도가 느림
    - 자동 계층화
        - 서로 다른 성능의 디스크를 조합해서 이용빈도가 높은거는 빠른장비에 낮은거는 싸고느린 장비에 자도으로 저장하는 기능
        - 특정 규칙을 설정해 두거나 스토리기자 스스로 판단해서 적절하게 판단하는 방식등이 있음
    - 디둡
        - 백업을 중복해서 하는경우 중복부분을 제외하고 백업
        - 데이터 압축기능도 포함
    - 스냅샷
        - 특정 시간에 파일시스템을 복사해서 보관하다가 나중에 원본에 문제가 생겼을때 복원을 해주는 기능이다.
        - 처음에는 원본 데이터를 모두 복사 이후 COW ,ROW 등이 등장
        - 스토리지 os나 lun컨트롤러에서 데이터위를 기어갛고 관리
        - COW
            - 스토리지에 미리 스냅샷 공간 할당(전체이 1-20%정도)
            - 스냅샷 생성 시점에 있던 데이터들의 위치즉 포인터 리스트만 저장
            - 이후 특정 데이터가 변경된다면 그 데이터를 읽어서 스냇샤 공간으로 복사 이후 원본 데이터 변경
            - 단점 io가 많음 (읽기X1,쓰기X2)
            - 장점 공간가 시간효율적으로 사용됨
         - ROW
            - 스냅샷 공간 공간을 미리 확보하지 않음
            - 똑같이 위치 리스트만 저장
            - 원본 데이터 변경시 기존데이터는 그대로 두고 덮어쓰기가 아니라 새로운 공간에 새롭게 쓴다.
            - 쓰기 한번으로 속도가 빠르다.




 